(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9857:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(4831)}])},4831:function(e,n,i){"use strict";i.r(n),i.d(n,{__toc:function(){return s},default:function(){return h}});var r=i(2676),l=i(4168),d=i(9733),c={src:"/_next/static/media/qrcode_545028909.0031abf8.jpg",height:396,width:321,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAAgABgMBIgACEQEDEQH/xAAnAAEBAAAAAAAAAAAAAAAAAAAABgEBAAAAAAAAAAAAAAAAAAAAAv/aAAwDAQACEAMQAAAAigj/AP/EAB0QAAICAQUAAAAAAAAAAAAAAAIEAQMRACEiQVH/2gAIAQEAAT8AcJe1ReZsGS47Z8HHWv/EABcRAQADAAAAAAAAAAAAAAAAAAEAITH/2gAIAQIBAT8AW8J//8QAGBEAAgMAAAAAAAAAAAAAAAAAAQIAETH/2gAIAQMBAT8AVaGmf//Z",blurWidth:6,blurHeight:8};let s=[{depth:2,value:"什么是 swpp",id:"什么是-swpp"},{depth:2,value:"swpp v2 与 v3 的区别",id:"swpp-v2-与-v3-的区别"},{depth:2,value:"约定",id:"约定"},{depth:2,value:"版本号",id:"版本号"},{depth:2,value:"历史文档",id:"历史文档"},{depth:2,value:"QQ 群",id:"qq-群"}];function t(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",a:"a",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",code:"code",ol:"ol",img:"img"},(0,d.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Service Worker Plus Plus"}),"\n",(0,r.jsx)(n.h2,{id:"什么是-swpp",children:"什么是 swpp"}),"\n",(0,r.jsxs)(n.p,{children:["  swpp 是一个用于为网站快速生成一个高度可用的 ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ServiceWorker",children:"Service Worker"})," 的工具，旨在提高网站的可靠性、优化二次访问性能、提供离线浏览功能……"]}),"\n",(0,r.jsx)(n.p,{children:"  常用 SW 构建工具的对比："}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{align:"center"}),(0,r.jsx)(n.th,{align:"center",children:"swpp@3"}),(0,r.jsx)(n.th,{align:"center",children:"swpp@2"}),(0,r.jsx)(n.th,{align:"center",children:"hexo-offline"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"本地缓存"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存增量更新"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存过期时间"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存大小限制"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"预缓存"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"Request 篡改"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"URL 竞速"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"备用 URL"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"204 阻塞响应"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"逃生门"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"请求合并"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"高度自由"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"更新"}),(0,r.jsx)(n.td,{align:"center",children:"活跃"}),(0,r.jsx)(n.td,{align:"center",children:"停止维护"}),(0,r.jsx)(n.td,{align:"center",children:"超过两年没有更新"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"swpp-v2-与-v3-的区别",children:"swpp v2 与 v3 的区别"}),"\n",(0,r.jsx)(n.p,{children:"  swpp v3 对 swpp 的所有代码进行了完全的重构，现在代码逻辑更加的清晰。除了后台代码的差异，v3 还有以下一系列的改进："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["完全定制化",(0,r.jsx)("br",{}),"\n现在您对 swpp 生成的 sw 拥有完全的控制权。在 v2 中，如果需要修改插件生成的 sw 的逻辑，您需要自行编写整个 sw 文件。",(0,r.jsx)("br",{}),"\nv3 中将 sw 文件的各个部分拆分到了环境变量中，这使得您可以通过配置文件覆盖 sw 文件中的任意一个部分，或者追加任意内容。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["现代化配置",(0,r.jsx)("br",{}),"\n现在您可以使用 ",(0,r.jsx)(n.code,{children:"ts"})," 语言编写配置文件，同时还可以选择使用 ",(0,r.jsx)(n.code,{children:"ESM"}),"。在 v2 中您必须使用 ",(0,r.jsx)(n.code,{children:"CommonJS"}),"。",(0,r.jsx)("br",{}),"\n同时使用内置的一系列 ",(0,r.jsx)(n.code,{children:"define"})," 函数可以让您对配置的颗粒度进行更加完美的掌控。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["完善的类型",(0,r.jsx)("br",{}),"\n现在 swpp 提供了更加优雅的数据类型，以优化编写配置项、二次开发时的体验。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"约定",children:"约定"}),"\n",(0,r.jsx)(n.p,{children:"  在正式开始前您需要知道下面的事："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["本文档统一使用 ",(0,r.jsx)(n.code,{children:"npm"})," 指令，您可根据喜好替换为自己使用的命令。"]}),"\n",(0,r.jsx)(n.li,{children:"在使用 swpp 之前您应当具备 ts/js 的部分知识，否则您可能会遇到一些麻烦。"}),"\n",(0,r.jsx)(n.li,{children:"swpp 分为前后端实现，如不特别声明，均指后端实现。本文档是后端实现的文档。"}),"\n",(0,r.jsxs)(n.li,{children:["文档中的示例代码中出现的 ",(0,r.jsx)(n.code,{children:"// noinspection xxx"})," 注释用于在编写文档时消除 IDE 警告，不需要 CV 走。"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"版本号",children:"版本号"}),"\n",(0,r.jsxs)(n.p,{children:["  目前 swpp v3 还在测试阶段，版本号全部采用 ",(0,r.jsx)(n.code,{children:"3.0.0-alpha.<a><b><c>"})," 的格式："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"3.0.0"})," - 大版本号"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"alpha"})," - 测试版本"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"a"})," - 一级子版本号，变动时表明 API 或配置文件等内容发生了不向前兼容的变动"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"b"})," - 二级子版本号，变动时表明添加了新的功能"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"c"})," - 三级子版本号，变动时表明进行了漏洞修复"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["  当 ",(0,r.jsx)(n.code,{children:"a"})," ",(0,r.jsx)(n.code,{children:"b"})," ",(0,r.jsx)(n.code,{children:"c"})," 的某一位达到两位数时，会在其中添加 ",(0,r.jsx)(n.code,{children:"x"})," 表示分割。"]}),"\n",(0,r.jsx)(n.h2,{id:"历史文档",children:"历史文档"}),"\n",(0,r.jsx)(n.p,{children:"  本文档不保存历史版本，因为本人永远推荐用户使用最新版的 swpp，旧版的 swpp 很可能是不安全的。"}),"\n",(0,r.jsx)(n.h2,{id:"qq-群",children:"QQ 群"}),"\n",(0,r.jsx)(n.p,{children:"  注意：swpp 有且仅有下面的群是官方的："}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"545028909 群",placeholder:"blur",src:c})})]})}var h=(0,l.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,d.a)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)},pageOpts:{filePath:"pages/index.mdx",route:"/",timestamp:1742657031e3,title:"Service Worker Plus Plus",headings:s},pageNextRoute:"/"})}},function(e){e.O(0,[168,888,774,179],function(){return e(e.s=9857)}),_N_E=e.O()}]);