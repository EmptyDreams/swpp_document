(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{717:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quickstart",function(){return n(7386)}])},7386:function(e,s,n){"use strict";n.r(s),n.d(s,{__toc:function(){return t}});var l=n(2676),r=n(5383),i=n(1993);let t=[{depth:2,value:"结构介绍",id:"结构介绍"},{depth:2,value:"安装",id:"安装"},{depth:2,value:"创建配置文件",id:"创建配置文件"},{depth:2,value:"注意事项",id:"注意事项"}];function c(e){let s=Object.assign({h1:"h1",p:"p",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",code:"code",a:"a",pre:"pre",span:"span",ul:"ul",li:"li"},(0,i.a)(),e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.h1,{children:"在您的项目中快速添加 swpp 支持"}),"\n",(0,l.jsx)(s.p,{children:"  在本章之中，您将了解如何安装、使用 swpp。"}),"\n",(0,l.jsx)(s.h2,{id:"结构介绍",children:"结构介绍"}),"\n",(0,l.jsx)(s.p,{children:"  swpp 将实现分为了前端实现和后端实现，其中后端实现是唯一的，而前端实现在不同平台会有不同的实现。"}),"\n",(0,l.jsx)(s.p,{children:"  swpp 对前端的具体实现没有太多限制，所以前端实现的安装、使用方法请阅读其提供的文档。下文中将为您介绍后端的安装、使用方法。"}),"\n",(0,l.jsx)(s.p,{children:"  下面是已知的前端实现："}),"\n",(0,l.jsxs)(s.table,{children:[(0,l.jsx)(s.thead,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.th,{align:"center",children:"平台"}),(0,l.jsx)(s.th,{align:"center",children:"插件名"}),(0,l.jsx)(s.th,{align:"center",children:"文档"}),(0,l.jsx)(s.th,{align:"center",children:"作者"})]})}),(0,l.jsx)(s.tbody,{children:(0,l.jsxs)(s.tr,{children:[(0,l.jsx)(s.td,{align:"center",children:"hexo"}),(0,l.jsx)(s.td,{align:"center",children:(0,l.jsx)(s.code,{children:"hexo-swpp"})}),(0,l.jsx)(s.td,{align:"center",children:(0,l.jsx)(s.a,{href:"https://github.com/EmptyDreams/hexo-swpp#readme",children:"github"})}),(0,l.jsx)(s.td,{align:"center",children:(0,l.jsx)(s.a,{href:"https://kmar.top/",children:"空梦"})})]})})]}),"\n",(0,l.jsx)(s.h2,{id:"安装",children:"安装"}),"\n",(0,l.jsx)(s.p,{children:"  在项目中安装 swpp 后端非常简单，只需要运行下面的指令即可："}),"\n",(0,l.jsx)(s.pre,{"data-language":"bash","data-theme":"default",children:(0,l.jsx)(s.code,{"data-language":"bash","data-theme":"default",children:(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"npm"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"install"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string)"},children:"swpp-backends@3"})]})})}),"\n",(0,l.jsx)(s.h2,{id:"创建配置文件",children:"创建配置文件"}),"\n",(0,l.jsxs)(s.p,{children:["  swpp 支持以下类型的配置文件：",(0,l.jsx)(s.code,{children:"ts"})," ",(0,l.jsx)(s.code,{children:"js"})," ",(0,l.jsx)(s.code,{children:"mts"})," ",(0,l.jsx)(s.code,{children:"cts"})," ",(0,l.jsx)(s.code,{children:"mjs"})," ",(0,l.jsx)(s.code,{children:"cjs"}),"。"]}),"\n",(0,l.jsxs)(s.p,{children:["  配置文件的文件名及所在路径请见您使用的前端实现的文档，此处我们假设配置文件名称为 ",(0,l.jsx)(s.code,{children:"swpp.config.ts"}),"。"]}),"\n",(0,l.jsxs)(s.p,{children:["  接下来需要在其中填入下面的内容（注意将 ",(0,l.jsx)(s.code,{children:"DOMAIN_HOST"})," 替换为您的 host）："]}),"\n",(0,l.jsx)(s.pre,{"data-language":"typescript","data-theme":"default",children:(0,l.jsxs)(s.code,{"data-language":"typescript","data-theme":"default",children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" { defineConfig } "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'swpp-backends'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:" "}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"defineConfig"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    compilationEnv"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 此项是必须配置的项目，swpp 必须知道您的域名才能区分哪些资源是外部资源。"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-comment)"},children:"// 部分前端实现可能会帮您自动填写该项目，具体是否必须手动填写请见前端实现的文档。"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"        DOMAIN_HOST"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-function)"},children:"URL"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://www.example.com'"}),(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"var(--shiki-color-text)"},children:"})"})})]})}),"\n",(0,l.jsx)(s.p,{children:"  此时您就完成了配置 swpp 所必须的步骤。"}),"\n",(0,l.jsx)(s.h2,{id:"注意事项",children:"注意事项"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:"swpp 生成的 Service Worker 文件中的代码未经压缩，会包含很多无用字段，所以会非常臃肿，请注意使用压缩器压缩 js 的内容。"}),"\n",(0,l.jsx)(s.li,{children:"目前 swpp v3 还处于测试阶段，所以请注意留意启用 swpp 后网站是否会工作异常（尤其是与缓存功能相关的）。"}),"\n",(0,l.jsx)(s.li,{children:"请注意追进 swpp 的版本更新。"}),"\n"]})]})}s.default=(0,r.j)({MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,i.a)(),e.components);return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(c,{...e})}):c(e)},pageOpts:{filePath:"pages/quickstart.mdx",route:"/quickstart",timestamp:1728821566e3,title:"在您的项目中快速添加 swpp 支持",headings:t},pageNextRoute:"/quickstart"})}},function(e){e.O(0,[383,888,774,179],function(){return e(e.s=717)}),_N_E=e.O()}]);