(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{206:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return i(3286)}])},3286:function(e,n,i){"use strict";i.r(n),i.d(n,{__toc:function(){return l}});var r=i(2676),t=i(3313),c=i(8136),d=i(2534);i(681);var s=i(5594);let l=[{depth:2,value:"什么是 swpp",id:"什么是-swpp"},{depth:2,value:"swpp v2 与 v3 的区别",id:"swpp-v2-与-v3-的区别"},{depth:2,value:"约定",id:"约定"},{depth:2,value:"版本号",id:"版本号"},{depth:2,value:"历史文档",id:"历史文档"}];function h(e){let n=Object.assign({h1:"h1",h2:"h2",p:"p",a:"a",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",code:"code",ol:"ol"},(0,s.a)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{children:"Service Worker Plus Plus"}),"\n",(0,r.jsx)(n.h2,{id:"什么是-swpp",children:"什么是 swpp"}),"\n",(0,r.jsxs)(n.p,{children:["  swpp 是一个用于为网站快速生成一个高度可用的 ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/ServiceWorker",children:"Service Worker"})," 的工具，旨在提高网站的可靠性、优化二次访问性能、提供离线浏览功能……"]}),"\n",(0,r.jsx)(n.p,{children:"  常用 SW 构建工具的对比："}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{align:"center"}),(0,r.jsx)(n.th,{align:"center",children:"swpp@3"}),(0,r.jsx)(n.th,{align:"center",children:"swpp@2"}),(0,r.jsx)(n.th,{align:"center",children:"hexo-offline"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"本地缓存"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存增量更新"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存过期时间"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"缓存大小限制"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"预缓存"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"Request 篡改"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"URL 竞速"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"备用 URL"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"204 阻塞响应"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"逃生门"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"请求合并"}),(0,r.jsx)(n.td,{align:"center",children:"❌"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"高度自由"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"✔️"}),(0,r.jsx)(n.td,{align:"center",children:"❌"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{align:"center",children:"更新"}),(0,r.jsx)(n.td,{align:"center",children:"活跃"}),(0,r.jsx)(n.td,{align:"center",children:"停止维护"}),(0,r.jsx)(n.td,{align:"center",children:"超过两年没有更新"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"swpp-v2-与-v3-的区别",children:"swpp v2 与 v3 的区别"}),"\n",(0,r.jsx)(n.p,{children:"  swpp v3 对 swpp 的所有代码进行了完全的重构，现在代码逻辑更加的清晰。除了后台代码的差异，v3 还有以下一系列的改进："}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["完全定制化",(0,r.jsx)("br",{}),"\n现在您对 swpp 生成的 sw 拥有完全的控制权。在 v2 中，如果需要修改插件生成的 sw 的逻辑，您需要自行编写整个 sw 文件。",(0,r.jsx)("br",{}),"\nv3 中将 sw 文件的各个部分拆分到了环境变量中，这使得您可以通过配置文件覆盖 sw 文件中的任意一个部分，或者追加任意内容。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["现代化配置",(0,r.jsx)("br",{}),"\n现在您可以使用 ",(0,r.jsx)(n.code,{children:"ts"})," 语言编写配置文件，同时还可以选择使用 ",(0,r.jsx)(n.code,{children:"ESM"}),"。在 v2 中您必须使用 ",(0,r.jsx)(n.code,{children:"CommonJS"}),"。",(0,r.jsx)("br",{}),"\n同时使用内置的一系列 ",(0,r.jsx)(n.code,{children:"define"})," 函数可以让您对配置的颗粒度进行更加完美的掌控。"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["完善的类型",(0,r.jsx)("br",{}),"\n现在 swpp 提供了更加优雅的数据类型，以优化编写配置项、二次开发时的体验。"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"约定",children:"约定"}),"\n",(0,r.jsx)(n.p,{children:"  在正式开始前您需要知道下面的事："}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["本文档统一使用 ",(0,r.jsx)(n.code,{children:"npm"})," 指令，您可根据喜好替换为自己使用的命令。"]}),"\n",(0,r.jsx)(n.li,{children:"在使用 swpp 之前您应当具备 ts/js 的部分知识，否则您可能会遇到一些麻烦。"}),"\n",(0,r.jsx)(n.li,{children:"swpp 分为前后端实现，如不特别声明，均指后端实现。本文档是后端实现的文档。"}),"\n",(0,r.jsxs)(n.li,{children:["文档中的示例代码中出现的 ",(0,r.jsx)(n.code,{children:"// noinspection xxx"})," 注释用于在编写文档时消除 IDE 警告，不需要 CV 走。"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"版本号",children:"版本号"}),"\n",(0,r.jsxs)(n.p,{children:["  目前 swpp v3 还在测试阶段，版本号全部采用 ",(0,r.jsx)(n.code,{children:"3.0.0-alpha.<a><b><c>"})," 的格式："]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"3.0.0"})," - 大版本号"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"alpha"})," - 测试版本"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"a"})," - 一级子版本号，变动时表明 API 或配置文件等内容发生了不向前兼容的变动"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"b"})," - 二级子版本号，变动时表明添加了新的功能"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"c"})," - 三级子版本号，变动时表明进行了漏洞修复"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["  当 ",(0,r.jsx)(n.code,{children:"a"})," ",(0,r.jsx)(n.code,{children:"b"})," ",(0,r.jsx)(n.code,{children:"c"})," 的某一位达到两位数时，会在其中添加 ",(0,r.jsx)(n.code,{children:"x"})," 表示分割。"]}),"\n",(0,r.jsx)(n.h2,{id:"历史文档",children:"历史文档"}),"\n",(0,r.jsx)(n.p,{children:"  本文档不保存历史版本，因为本人永远推荐用户使用最新版的 swpp，旧版的 swpp 很可能是不安全的。"})]})}let a={MDXContent:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.a)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)},pageOpts:{filePath:"pages/index.mdx",route:"/",timestamp:1723883966e3,pageMap:[{kind:"Meta",data:{index:"介绍",quickstart:"快速开始",config:"配置文件"}},{kind:"Folder",name:"config",route:"/config",children:[{kind:"Meta",data:{compilation_env:"CompilationEnv",cross_env:"CrossEnv",runtime_dep:"RuntimeDep",cross_dep:"CrossDep",runtime_core:"RuntimeCore",runtime_event:"RuntimeEvent",dom_config:"DomConfig",modifier:"Modifier"}},{kind:"MdxPage",name:"compilation_env",route:"/config/compilation_env"},{kind:"MdxPage",name:"cross_dep",route:"/config/cross_dep"},{kind:"MdxPage",name:"cross_env",route:"/config/cross_env"},{kind:"MdxPage",name:"dom_config",route:"/config/dom_config"},{kind:"MdxPage",name:"modifier",route:"/config/modifier"},{kind:"MdxPage",name:"runtime_core",route:"/config/runtime_core"},{kind:"MdxPage",name:"runtime_dep",route:"/config/runtime_dep"},{kind:"MdxPage",name:"runtime_event",route:"/config/runtime_event"}]},{kind:"MdxPage",name:"config",route:"/config"},{kind:"MdxPage",name:"index",route:"/"},{kind:"MdxPage",name:"quickstart",route:"/quickstart"}],flexsearch:{codeblocks:!0},title:"Service Worker Plus Plus",headings:l},pageNextRoute:"/",nextraLayout:c.ZP,themeConfig:d.Z};n.default=(0,t.j)(a)},2534:function(e,n,i){"use strict";var r=i(2676);i(5271);var t=i(5458);let c="Swpp 官方文档";n.Z={logo:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"icon",viewBox:"0 0 1024 1024",fill:"currentcolor",children:[(0,r.jsx)("path",{d:"M469.333 810.667V341.333a128 128 0 0 0-128-128H128v597.334zM512 213.333A212.992 212.992 0 0 1 682.667 128h298.666v768H42.667V128h298.666c69.803 0 131.755 33.493 170.667 85.333m42.667 128v469.334H896V213.333H682.667a128 128 0 0 0-128 128"}),(0,r.jsx)("text",{xmlSpace:"preserve",x:"215",y:"485",fillOpacity:"null",stroke:"null",strokeOpacity:"null",strokeWidth:"0",fontFamily:"'Courier New', Courier, monospace",fontSize:"250",fontWeight:"bold",transform:"matrix(2.177 0 0 2.07854 -332.879 -331.617)",children:"S"}),(0,r.jsx)("text",{xmlSpace:"preserve",x:"653",y:"499",fillOpacity:"null",stroke:"null",strokeOpacity:"null",strokeWidth:"0",fontFamily:"'Courier New', Courier, monospace",fontSize:"250",fontWeight:"bold",transform:"matrix(1.78385 0 0 2.06235 -570.614 -357.776)",children:"W"})]}),(0,r.jsx)("span",{style:{marginLeft:".4em",fontWeight:"bold"},children:c})]}),sidebar:{defaultMenuCollapseLevel:1},project:{link:"https://github.com/EmptyDreams/swpp-backends"},docsRepositoryBase:"https://github.com/EmptyDreams/swpp_document/tree/main/",useNextSeoProps:()=>({titleTemplate:"%s – ".concat(c)}),footer:{text:"\xa9 2024-present ".concat(c)},head:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,r.jsx)("meta",{property:"og:description",content:"Service Worker Plus Plus 的官方文档"}),(0,r.jsx)("meta",{name:"keywords",content:"ServiceWorker, swpp"})]}),...t.Z}},5184:function(){}},function(e){e.O(0,[580,888,774,179],function(){return e(e.s=206)}),_N_E=e.O()}]);